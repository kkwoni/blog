---
layout: post
title: "android - opencv porting 포팅"
date: 2011-05-27 12:00:00
comments: false
categories: old blog
---

이번 프로젝트에서는 opencv로 카메라 제어와 이미지 2진화를 해야해서
opencv 부터 차근차근 해보려한다.
윈도우에서 리눅스환경을 만들어주는 cygwing을 받음 
셋업실행  
[http://www.cygwin.com/setup.exe][link1]  

[link1]: http://www.cygwin.com/setup.exe

![](http://cythumb.cyworld.com/639x0/c2down.cyworld.co.kr/download?fid=64222f299e835976ec12302f18333abf&name=1.jpg)
![](http://cythumb.cyworld.com/639x0/c2down.cyworld.co.kr/download?fid=64222f299e83597628bb302f197993bf&name=1_00000.jpg)
![](http://cythumb.cyworld.com/639x0/c2down.cyworld.co.kr/download?fid=64222f299e8359766526302f197983bf&name=1_00001.jpg)

귀찮으니까 그냥 디폴트로 설치 함

![](http://cythumb.cyworld.com/639x0/c2down.cyworld.co.kr/download?fid=64222f299e83597656b9302f19799bbf&name=1_00002.jpg)


![](http://c2down.cyworld.co.kr/download?fid=64222f299e8359769ec4302f1979a6bf&name=1_00003.jpg)

아무곳이나 선택..카이스트는 연결불가떴었음.. 다른곳 선택

![](http://cythumb.cyworld.com/639x0/c2down.cyworld.co.kr/download?fid=64222f299e8359768437302f1979adbf&name=1_00004.jpg)

Devel을 확장해서 gcc-core, gcc-g++, make, swig 체크 
Editor에서 vim 체크
설치까지 기다린다.
다음으로 android ndk 다운  
[http://www.crystax.net/android/ndk-r4.php][link2]  

[link2]: http://www.crystax.net/android/ndk-r4.php

![](http://cythumb.cyworld.com/639x0/c2down.cyworld.co.kr/download?fid=64222f299e8359763942302f2a03dfbf&name=1_00005.jpg)

cygwin이 설치된 폴더의 home/계정이름 폴더에 복사함
환경변수 설정 

![](http://cythumb.cyworld.com/639x0/c2down.cyworld.co.kr/download?fid=64222f299e8359761f95302f36492abf&name=1_00006.jpg)

C:\cygwin\home\ukzzang\android-ndk-r4-crystax;C:\cygwin\bin;
다음으로 cygwin을 실행하면

![](http://cythumb.cyworld.com/639x0/c2down.cyworld.co.kr/download?fid=64222f299e835976fea0302f4523b0bf&name=1_00007.jpg)


화면이 나온다.
vi ~/.bashrc 라고 입력하면 vim편집으로 들어간다.
아래로 내려가서  
export PATH=$PATH:/home/계정이름/android-ndk-r4-crystax  
export ANDROID_NDK_ROOT=/home/계정이름/android-ndk-r4-crystax  
을 다음과 같이 입력

![](http://cythumb.cyworld.com/639x0/c2down.cyworld.co.kr/download?fid=64222f299e835976ab03302f98c9c8c3&name=1_00008.jpg)


a를 누르면 커서가 있는 곳부터 입력이 됩니다.
모두 입력후 shift + q 입력하면 : 에 명령어를 입력할 수 있게 뜸
w 는 저장 q는 종료
저장하고 종료후 source ~/.bashrc 입력하면 재적용됨
다음 안드로이드용 openCV를 받음 
eclipse에서 help>install new software>경로입력 add>name에 SVN location에 [http://subclipse.tigris.org/update][link3] 하여 다운로드
설치가 끝나면 show view 에서 SVN Repositories 를 찾을수 있다. opencv 를 우클릭하여 
checkout>이름정해주고 기다리면 workspace상에 프로젝트가 생김 편의상 android-opevcv로 정햇음 

[link3]: http://www.crystax.net/android/ndk-r4.php

![](http://cythumb.cyworld.com/639x0/c2down.cyworld.co.kr/download?fid=64222f299e8359761e0e302fd05cacc4&name=1_00009.jpg)

workspace에서 새로생긴 폴더를 찾아서 c:\cygwin\home\사용자계정 에 복사
cygwin 창으로 와서 
cd android-opencv 
sh build.sh 하면 빌드가 된다. 오래걸림.  
빌드가 끝나면 c:\cygwin\home\계정\android-opencv\android\libs 에 libandroid-opencv.so 파일이 생성된다.  
이걸 지지고 볶으면 됨.
